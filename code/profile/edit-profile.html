<!DOCTYPE html>

<html>

<head>
    <title>Edit Profile</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" type="text/css" href="../friends/friends.css" />
    <link rel="stylesheet" href="../main.css">
</head>

<style>
    #mobile {
        background-color: #1a1c1f;
        width: 400px;
        height: 100%;
        align-items: center;
        position: relative;
        padding-bottom: 60px;
        box-sizing: border-box;
    }

    html, body {
        height: 100%;
        overflow-y: auto;
    }
</style>

<body>
    <div id="mobile">
        <h1>Edit Your Avatar</h1>
        <img id="profile-image" src="../img/skeleton-profile-green.png" alt="Your Profile" style="height: 500px; width: 500px; border-radius: 0; background-color: transparent; margin-left: -45px;">        
        <div style="text-align: left;">
            <h2>Select an Avatar:</h2>
        </div>
        <div class="container" id="avatar-options" style="background-color: #454848; margin-left: -20px; margin-right: -20px; overflow-x: auto; white-space: nowrap;">
            <div style="display: inline-flex;">
                <img src="../img/shark-profile-red.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/fish-profile-purple.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/fish-profile-green.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/shark-profile-black.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/skeleton-profile-yellow.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/fish-profile-suit.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
                <img src="../img/skeleton-profile-green.png" alt="badge" style="width: 100px; height: 100px; margin: 7px; border-radius: 0; background-color: transparent;">
            </div>
        </div>
        <script>
            // Select the large profile image
            const profileImage = document.getElementById('profile-image');
        
            // Select all images in the avatar options container
            const avatarImages = document.querySelectorAll('#avatar-options img');
        
            // Add a click event listener to each avatar image
            avatarImages.forEach(image => {
                image.addEventListener('click', () => {
                    // Update the large profile image's src and alt attributes
                    profileImage.src = image.src;
                    profileImage.alt = image.alt;
        
                    // Transform the filename from "x-profile-y.png" to "x-y.png"
                    const originalSrc = image.src;
                    const transformedSrc = originalSrc.replace('-profile-', '-').replace('/img/', '/img/profile/');
        
                    // Save the transformed image's src to localStorage
                    localStorage.setItem('selectedProfile', originalSrc);
                    localStorage.setItem('selectedProfileImage', transformedSrc);
                });
            });
        </script>
        <script src="../elements/navbar.js"></script>
        <custom-navbar></custom-navbar>
    </div>
</body>
</html>