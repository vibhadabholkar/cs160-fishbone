<!DOCTYPE html>

<html>

<head>
    <title>Ann Basil</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" type="text/css" href="profile.css" />
    <link rel="stylesheet" href="../main.css">
    
    
</head>

<body>
    <div id="mobile">
        
        <header>
            <a href="edit-profile.html">
                <img src="../img/profile/skeleton-green.png" alt="Your Profile" style="height: 100px; width: 100px; border-radius: 0; background-color: transparent;">
            </a>            
            <h2 style="margin-bottom: -5px;">Ann Basil</h2>
            <p style="font-size: 13px; color: #ccc">@ann_basil</p>
        </header>

        <main>
            <h2>Current Habits</h2>
            <div class="column" id="column-1">
                <div class="container" id="main-habits">
                    <div style="text-align: left;">
                        <h2>Current Habits</h2>
                    </div>
                    <div class="habits" style="background-color: #BFD9DE;">
                        <div style="text-align: left;">
                            <h2 style="margin-bottom: -5px; font-size: 15px">Meditation</h2>
                            <p style="font-size: 10px; color: #2B2E2F">Daily • 10 minutes • Morning</p>
                        </div>
                        <div style="text-align: right; padding-left: 80px;">
                            <img src="../img/profile/hp1.png" alt="progress" style="width: 40px; height: 40px; border-radius: 0; background-color: transparent;">
                        </div>
                    </div>
                    <div class="habits" style="background-color: #BFD9DE;">
                        <div style="text-align: left;">
                            <h2 style="margin-bottom: -5px; font-size: 15px">Running</h2>
                            <p style="font-size: 10px; color: #2B2E2F">3 times per week • 2 miles</p>
                        </div>
                        <div style="text-align: right; padding-left: 90px;">
                            <img src="../img/profile/hp2.png" alt="progress" style="width: 40px; height: 40px; border-radius: 0; background-color: transparent;">
                        </div>
                    </div>
                    <div class="habits" style="background-color: #BFD9DE;">
                        <div style="text-align: left;">
                            <h2 style="margin-bottom: -5px; font-size: 15px">Reading</h2>
                            <p style="font-size: 10px; color: #2B2E2F">Daily • 20 minutes • Evening</p>
                        </div>
                        <div style="text-align: right; padding-left: 80px;">
                            <img src="../img/profile/hp3.png" alt="progress" style="width: 40px; height: 40px; border-radius: 0; background-color: transparent;">
                        </div>
                    </div>
                </div>

                <div class="container" id="badges">
                    <div style="text-align: left;">
                        <h2>Badges</h2>
                    </div>
                    <div>
                        <img src="../img/badge/runningBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/waterBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/flowerBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/teethBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/readingBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/campingBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/meditationBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                        <img src="../img/badge/foodBadge.png" alt="badge" style="width: 45px; height: 45px; margin: 7px;">
                    </div>
                </div>
                <br>

                <div class="container" id="bookmarked-habits">
                    <button class="rounded-button" onclick="location.href='bookmarked-habits.html';">Bookmarked Habits</button>
                </div>
            
        </main>



        <script>
            // Get the saved image src from localStorage
            const savedImageSrc = localStorage.getItem('selectedProfileImage');
            
            // If a saved image exists, update the profile image
            if (savedImageSrc) {
                const profileImage = document.querySelector('#header img');
                profileImage.src = savedImageSrc;
            }

            window.addEventListener("DOMContentLoaded", () => {
                const headerContainer = document.getElementById("main-habits");
                headerContainer.innerHTML = "";

                const habitList = JSON.parse(localStorage.getItem("habitData")) || []; 

                if (habitList.length > 0) {
                habitList.forEach(habit => {
                    const habitDiv = document.createElement('div');  
                    habitDiv.classList.add("habits");
                    habitDiv.style.backgroundColor = "#BFD9DE";
                    
                    const innerHabitDiv1 = document.createElement('div'); 
                    innerHabitDiv1.style.textAlign = "left";

                    const innerHabitDiv2 = document.createElement('div'); 
                    innerHabitDiv2.style.textAlign ="right";
                    innerHabitDiv2.style.marginLeft = "auto";

                    let html1 = "";
                    html1 += ` <h2 style="margin-bottom: -5px; font-size: 15px"> ${habit["Habit"]} </h2>`;
                    if (habit["Time of Day"]) {
                        html1 += `<p style="font-size: 10px; color: #2B2E2F"> ${habit["Frequency"]} • ${habit["Target"]} • ${habit["Preferred Time of Day"]}</p>`;
                    } else {
                        html1 += `<p style="font-size: 10px; color: #2B2E2F"> ${habit["Frequency"]} • ${habit["Target"]}</p>`;
                    }
                    innerHabitDiv1.innerHTML = html1;

                    let html2 = "";
                    html2 += ` <img src="../img/profile/hp2.png" alt="progress" style="width: 40px; height: 40px; border-radius: 0; background-color: transparent;">`;
                    innerHabitDiv2.innerHTML = html2;

                    habitDiv.append(innerHabitDiv1);
                    habitDiv.append(innerHabitDiv2);

                    headerContainer.appendChild(habitDiv); 
                    // headerContainer.appendChild(document.createElement('br'));
                    
                });
                }

            });

        </script>

        <script src="../elements/navbar.js"></script>
        <custom-navbar></custom-navbar>
    </div>
</body>
</html>